{
  "name": "Sigmachad Custom Rules",
  "description": "Optimized SonarQube rules for TypeScript monorepo with focus on critical issues",
  "rules": {
    "typescript": {
      "critical": [
        {
          "key": "S3776",
          "description": "Cognitive Complexity",
          "params": {
            "threshold": 20
          }
        },
        {
          "key": "S107",
          "description": "Too many parameters",
          "params": {
            "max": 7
          }
        },
        {
          "key": "S1067",
          "description": "Expression complexity",
          "params": {
            "max": 5
          }
        }
      ],
      "security": [
        {
          "key": "S5131",
          "description": "XSS vulnerabilities",
          "severity": "BLOCKER"
        },
        {
          "key": "S5146",
          "description": "SQL injection",
          "severity": "BLOCKER"
        },
        {
          "key": "S5334",
          "description": "Insecure random",
          "severity": "CRITICAL"
        },
        {
          "key": "S2068",
          "description": "Hard-coded credentials",
          "severity": "BLOCKER"
        },
        {
          "key": "S5542",
          "description": "Encryption algorithms",
          "severity": "CRITICAL"
        }
      ],
      "performance": [
        {
          "key": "S4143",
          "description": "Avoid multiple await",
          "severity": "MAJOR"
        },
        {
          "key": "S3516",
          "description": "Invariant returns",
          "severity": "MAJOR"
        },
        {
          "key": "S1264",
          "description": "Unnecessary loops",
          "severity": "MAJOR"
        }
      ],
      "maintainability": [
        {
          "key": "S3358",
          "description": "Nested ternary operators",
          "severity": "MAJOR"
        },
        {
          "key": "S134",
          "description": "Nested control flow",
          "params": {
            "max": 4
          }
        },
        {
          "key": "S1479",
          "description": "Too many switch cases",
          "params": {
            "maximum": 15
          }
        }
      ],
      "bestPractices": [
        {
          "key": "S1128",
          "description": "Unused imports",
          "severity": "MINOR"
        },
        {
          "key": "S1854",
          "description": "Dead stores",
          "severity": "MAJOR"
        },
        {
          "key": "S3923",
          "description": "Duplicate conditions",
          "severity": "MAJOR"
        },
        {
          "key": "S1066",
          "description": "Collapsible if statements",
          "severity": "MINOR"
        }
      ]
    },
    "focusAreas": {
      "monorepo": [
        "Package boundary violations",
        "Circular dependencies between packages",
        "Inconsistent versioning",
        "Missing package exports"
      ],
      "typescript": [
        "Type safety violations",
        "Any type usage",
        "Missing return types",
        "Implicit any parameters"
      ],
      "async": [
        "Unhandled promise rejections",
        "Missing await keywords",
        "Race conditions",
        "Callback hell patterns"
      ],
      "testing": [
        "Low test coverage on critical paths",
        "Missing error case tests",
        "Test code duplication",
        "Flaky test patterns"
      ]
    }
  },
  "qualityProfiles": {
    "typescript": {
      "extends": "Sonar way",
      "overrides": {
        "S106": "OFF",
        "S1135": "INFO",
        "S125": "INFO",
        "S4144": "MAJOR",
        "S1192": {
          "severity": "MINOR",
          "params": {
            "threshold": 5
          }
        }
      }
    }
  },
  "customMetrics": {
    "complexity": {
      "file": 50,
      "function": 15,
      "class": 30
    },
    "coverage": {
      "overall": 70,
      "newCode": 80,
      "criticalPaths": 90
    },
    "duplication": {
      "overall": 5,
      "newCode": 3
    },
    "maintainability": {
      "rating": "A",
      "debtRatio": 5
    }
  }
}