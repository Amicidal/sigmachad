Task & Definition
- Fix string/null issues called out in TODO.md Task 12 [ID: 2025-09-30.32].
- Update docs relevance scoring to use required `document.title` instead of optional `document.name`.
- Narrow `toId` in SynchronizationCoordinator to avoid assigning `string | null` to `string`.
- Acceptance: `@memento/knowledge` and `@memento/sync` build cleanly with no TS18048/TS2322 at specified lines.

Constraints/Risks
- Active dev repo; prioritize velocity with minimal blast radius.
- No backing services needed for TS builds; keep changes local to target files.
- Respect monorepo rules (no new deep paths; no cross-boundary imports introduced).

Code Searches
- Command: `sed -n '1,520p' packages/knowledge/src/orchestration/SyncOrchestrator.ts`
  - Goal: Find relevance scoring implementation using `document.name`.
  - Result: Found `calculateRelevanceScore` using `document.name.toLowerCase()`.
- Command: `nl -ba packages/sync/src/synchronization/SynchronizationCoordinator.ts | sed -n '2060,2200p'`
  - Goal: Inspect loops around lines 2113 and 2161 dealing with `toId`.
  - Result: `toId` derived from `rel.toEntityId` (possibly null) then used in `openEdge/closeEdge` and enriched object.

Web Searches
- None (not required; implementation is local and types known in-repo).

Implementation Notes
- SyncOrchestrator: Switched `document.name` to `document.title` in `calculateRelevanceScore` to avoid undefined access (per Task 12 scope).
  - File: packages/knowledge/src/orchestration/SyncOrchestrator.ts
- SynchronizationCoordinator: Added explicit type guard `typeof toId === 'string' && toId && rel.fromEntityId` before calling `openEdge/closeEdge`, and created `enriched: GraphRelationship` only when `toId` is a string.
  - File: packages/sync/src/synchronization/SynchronizationCoordinator.ts

Validation Evidence
- Build commands (captured minimal outputs inline; full logs on demand):
  - `pnpm -r --filter '@memento/knowledge' build` → tsc success.
  - `pnpm -r --filter '@memento/sync' build` → tsc success.
- No TS18048/TS2322 reported for the changed sites.
- Log file: logs/latest-build-task12.log (note: earlier attempt with combined filters resulted in a no-match message; reran per-package without issue).

Open Follow-ups
- None required for Task 12. If future nodes may lack `title`, consider a safe fallback `title ?? name ?? ''` in scoring (YAGNI for now per scope).
