Task & Definition
- Task: 27. Add Nx lint targets for missing packages/apps [ID: 2025-09-30.47]
- Definition of Done: Add `targets.lint` via `@nx/eslint:lint` for the noted apps/packages; `pnpm -s lint` enumerates them; no ESLint config misfires (parsing/tsconfig resolution) occur. Capture evidence.

Constraints/Risks
- Monorepo depth/import ceilings must be respected; no new deep paths.
- Avoid broad lint patterns that include generated artifacts (dist/).
- Enabling lint may surface rule violations; do not fix here—route to existing backlog items unless a misconfiguration appears.

Code Searches
- Command: `rg -n "^###\\s*27\\.|\\[ID:\\s*\\d{4}-\\d{2}-\\d{2}\\.47\\]" TODO.md`
  - Expect: Locate Task 27 entry and scope
  - Result: Found block at TODO.md:456
- Command: `rg --files -g "**/project.json"`
  - Expect: Projects currently declared to Nx
  - Result: apps/{web,mcp-server}, packages/{shared-types,api,database,graph,testing,knowledge,core}; missing: packages/{agents,backup,jobs,parser,sync,utils}
- Command: `sed -n '1,280p' apps/{web,mcp-server}/project.json`
  - Expect: No lint target yet
  - Result: Confirmed no `targets.lint`
- Command: `ls packages/* && cat packages/*/tsconfig.json`
  - Expect: Verify source roots and tsconfig existence
  - Result: All six missing packages have `src/` and a `tsconfig.json`

Web Searches
- None (not required).

Implementation Notes
- Added `targets.lint` to apps:
  - apps/web/project.json → `lintFilePatterns: ["apps/web/src/**/*.{ts,tsx}"]`
  - apps/mcp-server/project.json → `lintFilePatterns: ["apps/mcp-server/src/**/*.ts"]`
- Created minimal project.json with `lint` target for packages:
  - packages/{agents,backup,jobs,parser,sync,utils}/project.json with `sourceRoot: packages/<name>/src`, patterns `packages/<name>/**/*.ts`.
- Did not add build/test targets (YAGNI); existing package.json scripts remain untouched.

Validation Evidence
- Command: `pnpm -s lint > logs/lint-latest.log 2>&1`
- Observation: Nx enumerated 16 projects including newly added ones. Relevant log excerpts:
  - `> nx run agents:lint` / `backup:lint` / `jobs:lint` / `parser:lint` / `sync:lint` / `mcp-server:lint` / `web:lint` present.
- No ESLint config/tsconfig resolution errors detected (no "Parsing error"/"Cannot read file"/"Failed to load" occurrences).
- Lint errors surfaced in code for several packages (e.g., `security/detect-object-injection`, `no-prototype-builtins`, etc.). These map to existing backlog Tasks 28–29 and do not indicate misconfiguration.
- Artifacts:
  - Lint log: logs/lint-latest.log

Open Follow-ups
- None specific to Task 27; code-level lint violations are tracked under Task 28 (rules cleanup) and Task 29 (security rule). If desired, split per-package fixes as new tasks.
