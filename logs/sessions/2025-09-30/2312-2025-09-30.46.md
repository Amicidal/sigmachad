Task & Definition
- Implement TODO Task 26: Remove unnecessary escape characters in regex/string literals across the repo; keep behavior identical; ensure `pnpm -s lint` reports 0 `no-useless-escape` errors; validate sanitization middleware tests.

Constraints/Risks
- Avoid changing regex semantics; only remove redundant escapes or reposition `-` in character classes.
- Preserve detection quality for security scanners (code-scanner.ts, secrets-scanner.ts).
- Monorepo constraints: keep changes minimal, within 3-level path depth; avoid new packages.

Code Searches
- Command: `pnpm -s lint > logs/latest-lint.log 2>&1` then `rg -n "no-useless-escape" logs/latest-lint.log`
  - Expected: list all offenders to patch.
  - Observed: 18 errors across files including:
    - packages/core/src/utils/codeEdges.ts:625
    - packages/core/src/utils/environment.ts:12
    - packages/knowledge/src/embeddings/DocumentationIntelligenceProvider.ts:269
    - packages/backup/src/BackupService.ts:1648
    - packages/testing/src/security/code-scanner.ts:99, 576
    - packages/testing/src/security/secrets-scanner.ts:163, 193, 407, 422, 437, 619
    - packages/sync/src/scm/GitService.ts:538
    - packages/api/src/middleware/validation.ts:217

Web Searches
- None (internal refactor; no external references needed).

Implementation Notes
- Edited files to remove unnecessary escapes:
  - packages/core/src/utils/environment.ts: `[^a-z0-9-]` (removed escape on `-`).
  - packages/knowledge/src/embeddings/DocumentationIntelligenceProvider.ts: split on `/[;,/]/` (removed `\/`).
  - packages/backup/src/BackupService.ts: `([a-zA-Z0-9_".]+)` (removed `\.` inside char class).
  - packages/testing/src/security/code-scanner.ts:
    - Path traversal: `/\.\.[/\\]|\.\.%2f|\.\.%5c/gi` (removed unnecessary `\/`).
    - Integer overflow: `/...\s*[+*-]/gi` (removed `\+`, `\-`, `\*`).
  - packages/testing/src/security/secrets-scanner.ts: removed superfluous escapes inside character classes and URL segments (e.g., JWT, DB URLs, MongoDB SRV, Redis, Elasticsearch, webhook token patterns) by replacing `[^\/\s]` with `[^/\s]`, etc.
  - packages/sync/src/scm/GitService.ts: `info.match(/^([^.\s]+)/)` (removed escape on `.` in char class head).
  - packages/api/src/middleware/validation.ts: key validator `/^[\w\-.[\]]{1,256}$/` (removed escape on `.` inside class).
  - packages/core/src/utils/codeEdges.ts: `/[^a-z0-9/_-]+/g` (moved `-` to end of class, removed escape). Note: also removed a temporary ESLint override added during debugging.

Validation Evidence
- Lint: `pnpm -s lint > logs/latest-lint.log 2>&1` then `rg -n "no-useless-escape" logs/latest-lint.log` → no occurrences.
- Sanitizer tests: `pnpm vitest run tests/unit/middleware/validation.test.ts --reporter=basic > logs/latest-test.log 2>&1` → 37 tests passed. See logs/latest-test.log for full output.

Open Follow-ups
- None required for Task 26. If future regex changes reintroduce escapes, consider adding focused unit tests around affected utilities.
