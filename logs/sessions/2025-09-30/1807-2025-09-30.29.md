Task & Definition
- Task 9: Resolve never[] array inference across knowledge/testing packages to stop TS2345/TS2339 push errors. Add explicit element types to empty array initializers and prefer concrete domain types from @memento/shared-types when feasible.

Constraints/Risks
- Monorepo depth/import rules must remain intact.
- Keep diffs minimal; avoid refactors beyond fixing never[] inference.
- Network restricted; no external installs.

Code Searches
- Ran: rg -n "const\\s+\\w+\\s*=\\s*\\[\\];" packages
  Goal: locate empty array initializers that infer never[].
  Result: Hits in knowledge-graph-adapter.ts, EntityServiceOGM.ts, SearchServiceOGM.ts, TestHistory.ts, TestDataStorage.ts (+ some test files, ignored for build scope).
- Inspected specific files/lines noted in TODO.

Web Searches
- None (offline, not needed).

Implementation Notes
- packages/knowledge/src/graph/EntityServiceOGM.ts: Typed batch accumulators `createdInstances`, `upserted` as `any[]` due to dynamic Neogma model returns.
- packages/knowledge/src/graph/SearchServiceOGM.ts: Declared `const searchPromises: Array<Promise<SearchResult[]>> = []`.
- packages/knowledge/src/ingestion/knowledge-graph-adapter.ts: Typed three `results` arrays with explicit element shapes for entities, relationships, and embeddings.
- packages/testing/src/temporal/TestHistory.ts: Cast map initializations to typed arrays; annotated `executions` locals and CSV parse accumulator as `TestExecutionRecord[]`.
- packages/testing/src/temporal/TestDataStorage.ts: Typed `results` in `batchCompress` to its return element type.

Validation Evidence
- Command: pnpm -r --filter @memento/knowledge --filter @memento/testing build > logs/latest-build-task9.log 2>&1
- Observed: Both builds completed successfully with tsc (no TS2345/TS2339 related to never[]). See logs/latest-build-task9.log.

Open Follow-ups
- Optional: Type the adapter `results` return structures with exported interfaces if they become cross-module.
- Optional: Audit tests for never[] in e2e/advanced test suites; not required for package builds.
