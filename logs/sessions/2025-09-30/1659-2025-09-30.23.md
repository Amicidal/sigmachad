Task & Definition
- Implement TODO Task 3: Unblock @memento/sync build (exports, paths, types) [ID: 2025-09-30.23]. Target: 0 TS errors for `pnpm -r --filter @memento/sync build --silent` and remove lingering imports from `@memento/core`.

Constraints/Risks
- Monorepo depth/import ceilings; avoid deep relative imports and circular deps.
- Some shared types duplicated with conflicting names (PerformanceMetrics). Rename without breaking other packages.
- Change blast radius minimized to sync + shared-types.

Code Searches
- rg "^### 3\." TODO.md — locate task scope and entry points. Found detailed bullets under Task 3.
- rg "@memento/core" packages/sync — found imports in SCMService.ts and dependency in packages/sync/package.json.
- rg "relationships.js" packages/sync/src/synchronization — found inline type imports in SynchronizationCoordinator.ts (62, 1622, 1727).
- rg "PerformanceMetrics" packages/shared-types/src/core-types.ts — found duplicate interfaces at lines ~175 and ~1661.
- rg in sync for method augmentation usage — found prototype-based methods and a module augmentation targeting a non-emitted path at end of SynchronizationCoordinator.ts.

Web Searches
- None (offline, not needed).

Implementation Notes
- shared-types: Extended ConflictResolutionResult with optional manualResolution/resolvedBy/timestamp. Added manualResolution? to ConflictResolution (both duplicates). Renamed sync-focused PerformanceMetrics to SyncPerformanceMetrics and exported via index.ts.
- sync/scm: In SCMProvider.ts re-exported SCM types from @memento/shared-types. Expanded barrel exports in scm/index.ts.
- sync/scm/SCMService.ts: Switched DatabaseService import to @memento/database, moved types to @memento/shared-types.
- sync/synchronization/SynchronizationMonitoring.ts: Import SyncOperation/SyncError/CheckpointMetricsSnapshot/Conflict from @memento/shared-types and switched to SyncPerformanceMetrics. Removed SyncConflict usage.
- sync/synchronization/SynchronizationCoordinator.ts: Replaced inline import('...relationships.js').GraphRelationship usages with GraphRelationship. Implemented resolveAndCreateRelationship and resolveRelationshipTarget as class methods. Removed invalid module augmentation and prototype assignments. Updated all call sites to use `this.<method>`.
- sync/package.json: Removed @memento/core dependency.

Validation Evidence
- Ran: `pnpm -r --filter @memento/sync --silent build > logs/builds/2025-09-30/1706-sync.log 2>&1`.
- Assertion: log contains no TS errors; build exits 0. File: logs/builds/2025-09-30/1706-sync.log.
- Assertion: `rg "@memento/core" packages/sync -n` returns no results (no unresolved imports).

Open Follow-ups
- If any other packages relied on the old PerformanceMetrics name for sync monitoring, migrate them to SyncPerformanceMetrics. None detected in code (docs have references).
- Consider adding a light unit/type test around RelationshipType assignments as suggested in task follow-up.
