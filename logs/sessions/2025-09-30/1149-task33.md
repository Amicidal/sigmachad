# Task & Definition
- Implement TODO Task 33: Tighten CachedFileInfo.symbolMap typing to Map<string, SymbolEntity> across shared types and consumers.

# Constraints/Risks
- Must avoid introducing any/unknown casts around symbolMap usage.
- Keep changes minimal; avoid broad tsconfig refactors.

# Code Searches
- rg -n "CachedFileInfo|symbolMap:" packages/shared-types/src/parsing-types.ts packages/knowledge
- Observed symbolMap typed as Map<string, any> in shared-types; multiple any-casts in IncrementalParser around symbolMap.

# Web Searches
- None.

# Implementation Notes
- Updated shared-types parsing-types.ts to type symbolMap as Map<string, SymbolEntity>.
- Updated IndexManager interface to return and accept SymbolEntity-based maps/arrays.
- Refactored IncrementalParser to remove any-casts around symbolMap; used SymbolEntity typing for updates.

# Validation Evidence
- Built @memento/shared-types d.ts: logs/build-shared-types-task33.log
- Targeted knowledge typecheck still flags unrelated package builds; will run focused unit tests to validate symbolMap usage.
- Will run: pnpm exec vitest run tests/unit/knowledge/CacheManager.unit.test.ts --reporter=default > logs/latest-test.log 2>&1

# Open Follow-ups
- Monorepo build graph for graph/database/core packages intermittently blocks standalone knowledge typecheck; consider CI job to build references first.
