# Documentation Standards Guide

## Overview

This guide defines the standards and conventions for all documentation in the Memento project. These standards ensure consistency, maintainability, and automated validation of documentation.

## Directory Structure

```
Docs/
├── STANDARDS.md          # This file
├── blueprints/          # Technical design documents
├── guides/              # How-to and operational guides
├── references/          # API and configuration references
├── enhancements/        # Feature proposals and RFCs
├── summaries/           # Auto-generated code summaries (DO NOT EDIT)
├── templates/           # Document templates
├── scratch/             # Unstructured/draft content (NO RULES ENFORCED)
└── archive/             # Deprecated documentation
```

### Directory Purposes

- **blueprints/**: Technical architecture and design decisions
- **guides/**: Step-by-step instructions for users and developers
- **references/**: API documentation, configuration options, schemas
- **enhancements/**: Proposals for new features or major changes
- **summaries/**: Auto-generated by `pnpm docs:generate` (read-only)
- **scratch/**: Free-form content, brainstorming, notes (exempt from all rules)
- **archive/**: Old documentation kept for historical reference

## File Naming Conventions

### Required Format
- **Use kebab-case**: `my-document-name.md`
- **No spaces**: Use hyphens instead
- **Lowercase only**: No capital letters in filenames
- **Extension**: Always `.md` for Markdown files

### Examples
✅ Good:
- `api-error-handling.md`
- `redis-session-guide.md`
- `temporal-tracking-enhancement.md`

❌ Bad:
- `APIErrorHandling.md` (PascalCase)
- `Redis_Session_Guide.md` (underscores)
- `TEMPORAL_TRACKING.md` (uppercase)
- `my document.md` (spaces)

## Document Structure

### Required Frontmatter

All documents (except in `scratch/`) must begin with YAML frontmatter:

```yaml
---
title: Document Title
category: blueprint|guide|reference|enhancement
created: YYYY-MM-DD
updated: YYYY-MM-DD
status: draft|review|approved|deprecated
authors: [github-username]
---
```

### Required Sections by Category

#### Blueprints (`blueprints/`)
```markdown
---
title: Feature Name Blueprint
category: blueprint
created: YYYY-MM-DD
updated: YYYY-MM-DD
status: draft|approved
authors: [username]
---

# Feature Name Blueprint

## 1. Overview
Brief description of the feature/component

## 2. Current State
What exists today and its limitations

## 3. Proposed Solution
Detailed technical approach

## 4. Implementation Details
Code structure, APIs, data models

## 5. Testing Strategy
How this will be tested

## 6. Migration Plan
Steps to adopt this change

## 7. Timeline
Expected milestones
```

#### Guides (`guides/`)
```markdown
---
title: How to X
category: guide
created: YYYY-MM-DD
updated: YYYY-MM-DD
status: draft|approved
authors: [username]
---

# How to X

## Prerequisites
What you need before starting

## Steps
1. First step
2. Second step
3. ...

## Troubleshooting
Common issues and solutions

## Related Resources
Links to other docs
```

#### References (`references/`)
```markdown
---
title: API/Config Reference
category: reference
created: YYYY-MM-DD
updated: YYYY-MM-DD
status: draft|approved
authors: [username]
version: 1.0.0
---

# API/Config Reference

## Overview
What this reference covers

## Quick Start
Minimal example

## Full Reference
Detailed API/config documentation

## Examples
Real-world usage examples
```

#### Enhancements (`enhancements/`)
```markdown
---
title: Enhancement Proposal
category: enhancement
created: YYYY-MM-DD
updated: YYYY-MM-DD
status: proposed|accepted|rejected|implemented
authors: [username]
rfc: XXXX
---

# Enhancement: Title

## Problem Statement
What problem are we solving?

## Proposed Solution
How we plan to solve it

## Alternatives Considered
Other approaches evaluated

## Impact Analysis
What this affects

## Implementation Plan
How to build it

## Open Questions
Unresolved issues
```

## Markdown Formatting Rules

### Headers
- Use ATX-style headers (`#`, not underlines)
- Start with H1 (`#`) matching the title
- Use proper hierarchy (don't skip levels)
- Add blank line before and after headers

### Lists
- Use `-` for unordered lists (not `*` or `+`)
- Use `1.` for ordered lists
- Indent nested lists with 2 spaces
- Add blank line before and after list blocks

### Code Blocks
- Always specify language: ` ```typescript `
- Use `bash` for shell commands
- Use `yaml` for configuration
- Use `json` for JSON data
- Use `markdown` for markdown examples

### Links
- Use relative links for internal docs: `[Guide](../guides/my-guide.md)`
- Use reference-style links for repeated URLs
- Check all internal links are valid

### Tables
- Use pipes and hyphens
- Align columns for readability
- Include header row

### Line Length
- Keep lines under 120 characters
- Break at natural points (sentences, clauses)
- Exception: URLs and code blocks

## Quality Standards

### Content Requirements
1. **Accuracy**: Information must be current and correct
2. **Completeness**: Cover the topic thoroughly
3. **Clarity**: Use simple, direct language
4. **Examples**: Include code examples where relevant
5. **References**: Link to related documentation

### Prohibited Content
- Sensitive information (passwords, keys, tokens)
- Personal data or PII
- Internal URLs or infrastructure details
- Unverified claims or speculation (unless marked as such)

## Validation Rules

The documentation linter (`pnpm lint:docs`) enforces:

### Errors (blocking)
- Missing or invalid frontmatter
- Wrong file naming convention
- Missing required sections
- Invalid internal links
- Files in wrong directory

### Warnings (non-blocking)
- Missing updated date
- Long lines (>120 chars)
- Missing language in code blocks
- TODO/FIXME comments
- Large file size (>100KB)

### Ignored
- Everything in `scratch/` directory
- Files in `archive/` directory
- Auto-generated `summaries/` directory

## Automation

### Pre-commit Hook
The pre-commit hook automatically:
- Validates changed markdown files
- Updates the `updated` field in frontmatter
- Fixes file naming (with prompt)
- Checks for broken internal links

### Scripts
- `pnpm lint:docs` - Check all documentation
- `pnpm lint:docs:fix` - Auto-fix issues where possible
- `pnpm docs:generate` - Generate code summaries
- `pnpm docs:migrate` - Migrate existing docs to new structure
- `pnpm docs:validate` - Full validation with detailed report

## Templates

Use templates when creating new documents:
- `Docs/templates/blueprint.md` - For technical designs
- `Docs/templates/guide.md` - For how-to guides
- `Docs/templates/reference.md` - For API/config docs
- `Docs/templates/enhancement.md` - For proposals

Copy the appropriate template and fill in the sections.

## Migration

Existing documents will be migrated using:
```bash
pnpm docs:migrate
```

This will:
1. Rename files to kebab-case
2. Add missing frontmatter
3. Move files to correct directories
4. Update internal links
5. Generate a migration report

## Exceptions

### Scratch Directory
The `Docs/scratch/` directory is exempt from ALL rules. Use it for:
- Draft content
- Meeting notes
- Brainstorming
- Temporary documentation
- Any unstructured content

Files here will not be validated, linted, or processed.

## Questions?

For questions about these standards:
1. Check existing documentation for examples
2. Ask in team discussions
3. Propose changes via enhancement proposal